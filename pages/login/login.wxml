<!--pages/login/login.wxml-->
<div>
  <view class="form">
    <view class="phone flex-row">
      <span class="icon verticalHorizontal">
        <image src="/imgs/login-icon.png"></image>
      </span>
      <input id="phone" value="" type="number" maxlength="11" bindinput='inputMobile' placeholder="请输入手机号"></input>
    </view>
    <view class="code flex-row">
      <view class="flex-row code-box">
        <span class="icon verticalHorizontal">
          <image src="/imgs/login-icon2.png"></image>
        </span>
        <input id="code" value="" type="text" bindinput='inputCode' maxlength="4" placeholder="验证码"></input>
      </view>
      <text bindtap="getIdCode" class="get-code {{sending==true?'send-btn':''}}">
        {{timeTic==0?'获取验证码':timeTic+'秒'}}
      </text>
    </view>
  </view>
  <view class="login-wrap">
    <button id="login" class="login-btn verticalHorizontal" open-type='getUserInfo' bindgetuserinfo="login">提交</button>
    <view class="agreed">登录即视为同意
      <span class="agreement" bindtap="showProtocol">《SVIP会员相关协议》</span>
    </view>
  </view>
</div>
<!-- 协议显示弹窗 -->
<view class="protocol-dialog" wx:if="{{showProtocol}}">
  <view class="protocol-main">
    <image src='/imgs/protocol.png' mode="widthFix"></image>
    <view class='closed verticalHorizontal' bindtap='closedProtocol'>我知道了</view>
  </view>
</view>